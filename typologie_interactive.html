<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typologie des √âtudes de Mobilit√© | Cerema</title>
    
    <!-- Police Marianne (obligatoire) -->
    <link href="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.9/dist/dsfr.min.css" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Marianne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.5;
            color: #333333;
            background: #FFFFFF;
        }

        /* HEADER INSTITUTIONNEL */
        .header-institutional {
            background: #000091;
            color: #FFFFFF;
            padding: 20px 0;
            border-bottom: 3px solid #FDC400;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-logos {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .logo-marianne {
            font-weight: bold;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-right: 2px solid rgba(255, 255, 255, 0.3);
            padding-right: 30px;
        }

        .logo-cerema {
            font-weight: 700;
            font-size: 1.5em;
            color: #FDC400;
        }

        .header-return {
            text-align: right;
        }

        .header-return a {
            color: #FFFFFF;
            text-decoration: none;
            font-size: 0.9em;
            transition: color 0.3s ease;
        }

        .header-return a:hover {
            color: #FDC400;
        }

        /* HERO SECTION */
        .hero-section {
            background: linear-gradient(to bottom, #F6F6F6 0%, #FFFFFF 100%);
            padding: 60px 40px;
            border-bottom: 1px solid #E5E5E5;
        }

        .hero-content {
            max-width: 960px;
            margin: 0 auto;
        }

        .hero-content h1 {
            font-family: 'Marianne', sans-serif;
            font-weight: 700;
            font-size: 2.5em;
            color: #000091;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-content .subtitle {
            font-size: 1.2em;
            color: #666666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .hero-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tag {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 500;
            background: #E5E5E5;
            color: #333333;
            border: 1px solid #CCCCCC;
        }

        .tag.mobilite {
            background: #E3F2FD;
            color: #1565C0;
            border-color: #1565C0;
        }

        /* CONTROLES */
        .controls-section {
            background: #F6F6F6;
            padding: 30px 40px;
            border-bottom: 1px solid #E5E5E5;
        }

        .controls-content {
            max-width: 960px;
            margin: 0 auto;
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-width: 250px;
        }

        .filter-group label {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            font-size: 0.9em;
            color: #333333;
        }

        select {
            font-family: 'Marianne', sans-serif;
            padding: 10px 15px;
            border: 1px solid #CCCCCC;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #FFFFFF;
            color: #333333;
        }

        select:hover {
            border-color: #000091;
        }

        select:focus {
            outline: none;
            border-color: #000091;
            box-shadow: 0 0 0 2px rgba(0, 0, 145, 0.1);
        }

        .legend {
            margin-left: auto;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .legend-title {
            font-weight: 600;
            font-size: 0.9em;
            color: #333333;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
            color: #666666;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 2px;
            border: 1px solid #CCCCCC;
        }

        /* MAIN CONTENT */
        .main-content {
            max-width: 960px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        /* VUE D'ENSEMBLE - VERSION SOBRE INSTITUTIONNELLE */
        .intro-institutional {
            position: relative;
            background: #F6F6F6;
            border: 2px solid #E5E5E5;
            border-left: 6px solid #000091;
            border-radius: 4px;
            padding: 40px;
            margin-bottom: 60px;
        }

        .intro-institutional h2 {
            font-family: 'Marianne', sans-serif;
            font-weight: 700;
            font-size: 1.8em;
            color: #000091;
            margin-bottom: 20px;
        }

        .intro-institutional p {
            color: #333333;
            font-size: 1.05em;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .intro-institutional .highlight {
            font-weight: 600;
            color: #000091;
        }

        .intro-institutional strong {
            font-weight: 700;
            color: #000091;
        }

        /* Bloc num√©rique style institutionnel */
        .key-numbers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #E5E5E5;
        }

        .key-number {
            text-align: center;
            padding: 20px;
            background: #FFFFFF;
            border-radius: 4px;
            border: 1px solid #E5E5E5;
            transition: all 0.3s ease;
        }

        .key-number:hover {
            border-color: #000091;
            box-shadow: 0 2px 8px rgba(0, 0, 145, 0.1);
        }

        .key-number-value {
            font-family: 'Marianne', sans-serif;
            font-weight: 700;
            font-size: 2.5em;
            color: #000091;
            display: block;
            margin-bottom: 8px;
        }

        .key-number-label {
            font-size: 0.9em;
            color: #666666;
            font-weight: 500;
        }

        /* Cat√©gories - Cartes sobres */
        .categories-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .category-card {
            background: #FFFFFF;
            border: 2px solid #E5E5E5;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .category-card:hover {
            border-color: #000091;
            box-shadow: 0 4px 12px rgba(0, 0, 145, 0.15);
            transform: translateY(-2px);
        }

        .category-card-icon {
            font-size: 2em;
            margin-bottom: 12px;
        }

        .category-card-title {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            font-size: 0.95em;
            color: #000091;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* SECTION TITRE */
        .section-title {
            font-family: 'Marianne', sans-serif;
            font-weight: 700;
            font-size: 1.8em;
            color: #000091;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #FDC400;
        }

        /* TABLEAU */
        .table-container {
            overflow-x: auto;
            margin-bottom: 60px;
            border: 1px solid #E5E5E5;
            border-radius: 4px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #FFFFFF;
        }

        th {
            background: #000091;
            color: #FFFFFF;
            padding: 16px;
            text-align: left;
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #FDC400;
        }

        th:first-child {
            position: sticky;
            left: 0;
            z-index: 11;
        }

        td {
            padding: 16px;
            border-bottom: 1px solid #E5E5E5;
            vertical-align: top;
        }

        td:first-child {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            color: #000091;
            background: #F6F6F6;
            position: sticky;
            left: 0;
            z-index: 10;
        }

        tr:hover td {
            background: #FAFAFA;
        }

        tr:last-child td {
            border-bottom: none;
        }

        /* Cellules de donn√©es */
        .cell {
            min-height: 80px;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .cell:hover {
            border-color: #000091;
            box-shadow: 0 2px 8px rgba(0, 0, 145, 0.15);
        }

        /* Niveaux d'intensit√© - Palette sobre */
        .cell.level-high {
            background: #000091;
            color: #FFFFFF;
            border-color: #000091;
        }

        .cell.level-medium {
            background: #6A6AF4;
            color: #FFFFFF;
            border-color: #6A6AF4;
        }

        .cell.level-low {
            background: #E3E3FD;
            color: #000091;
            border-color: #CCCCF4;
        }

        .cell.level-none {
            background: #F6F6F6;
            color: #999999;
        }

        .cell-title {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .cell-examples {
            font-size: 0.8em;
            opacity: 0.9;
            line-height: 1.4;
        }

        /* USAGES TRANSVERSAUX */
        .usages-section {
            margin-top: 60px;
            padding-top: 60px;
            border-top: 1px solid #E5E5E5;
        }

        .usages-intro {
            text-align: center;
            margin-bottom: 40px;
        }

        .usages-intro p {
            color: #666666;
            font-size: 1.05em;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .usages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .usage-card {
            background: #FFFFFF;
            border: 2px solid #E5E5E5;
            border-radius: 4px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .usage-card:hover {
            border-color: #FDC400;
            box-shadow: 0 4px 12px rgba(253, 196, 0, 0.2);
            transform: translateY(-4px);
        }

        .usage-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .usage-card h3 {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            color: #000091;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .usage-card p {
            color: #666666;
            font-size: 0.95em;
            line-height: 1.5;
        }

        /* CTA BUTTON */
        .cta-button {
            display: inline-block;
            background: #FDC400;
            color: #000091;
            padding: 12px 24px;
            border-radius: 4px;
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            font-size: 0.95em;
            text-decoration: none;
            border: 2px solid #FDC400;
            transition: all 0.3s ease;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .cta-button:hover {
            background: #000091;
            color: #FFFFFF;
            border-color: #000091;
        }

        /* MODALE */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #FFFFFF;
            padding: 40px;
            border-radius: 4px;
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            border-top: 6px solid #000091;
        }

        .modal-close {
            float: right;
            font-size: 28px;
            cursor: pointer;
            color: #999999;
            transition: color 0.3s ease;
            line-height: 1;
        }

        .modal-close:hover {
            color: #000091;
        }

        .modal h3 {
            font-family: 'Marianne', sans-serif;
            font-weight: 700;
            color: #000091;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .modal-section {
            margin-bottom: 25px;
        }

        .modal-section h4 {
            font-family: 'Marianne', sans-serif;
            font-weight: 600;
            color: #000091;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .modal-section p {
            color: #333333;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .modal-section ul {
            list-style-position: inside;
            color: #333333;
            line-height: 1.8;
        }

        .modal-section li {
            padding-left: 10px;
        }

        /* FOOTER INSTITUTIONNEL */
        .footer-institutional {
            background: #F6F6F6;
            border-top: 3px solid #000091;
            padding: 40px 40px 30px 40px;
            margin-top: 80px;
        }

        .footer-content {
            max-width: 960px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-institutional p {
            color: #666666;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .footer-institutional strong {
            color: #000091;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #E5E5E5;
        }

        .footer-links a {
            color: #666666;
            text-decoration: none;
            font-size: 0.85em;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #000091;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
                padding: 0 20px;
            }

            .header-logos {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .logo-marianne {
                border-right: none;
                border-bottom: 2px solid rgba(255, 255, 255, 0.3);
                padding-right: 0;
                padding-bottom: 10px;
            }

            .hero-section {
                padding: 40px 20px;
            }

            .hero-content h1 {
                font-size: 1.8em;
            }

            .controls-content {
                padding: 0 20px;
                flex-direction: column;
            }

            .filter-group {
                width: 100%;
                min-width: auto;
            }

            .legend {
                margin-left: 0;
                flex-wrap: wrap;
            }

            .main-content {
                padding: 40px 20px;
            }

            .intro-institutional {
                padding: 25px;
            }

            .key-numbers {
                grid-template-columns: repeat(2, 1fr);
            }

            .categories-cards {
                grid-template-columns: repeat(2, 1fr);
            }

            .usages-grid {
                grid-template-columns: 1fr;
            }

            th, td {
                padding: 10px;
                font-size: 0.85em;
            }
        }

        /* ANIMATIONS SUBTILES */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .intro-institutional,
        .table-container,
        .usages-section {
            animation: fadeIn 0.6s ease;
        }
    </style>
</head>
<body>
    <!-- HEADER INSTITUTIONNEL -->
    <header class="header-institutional">
        <div class="header-content">
            <div class="header-logos">
                <div class="logo-marianne">
                    R√©publique<br>Fran√ßaise
                </div>
                <div class="logo-cerema">
                    CEREMA
                </div>
            </div>
            <div class="header-return">
                <a href="https://www.cerema.fr">‚Üê Retour au site Cerema.fr</a>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Typologie des √âtudes de Mobilit√©</h1>
            <p class="subtitle">
                Une synth√®se des cas d'usage des donn√©es de mobilit√© par m√©tier et cat√©gorie d'√©tude, 
                pour accompagner les collectivit√©s et les experts dans leurs projets.
            </p>
            <div class="hero-tags">
                <span class="tag mobilite">Mobilit√©</span>
                <span class="tag">Donn√©es</span>
                <span class="tag">M√©thodologie</span>
                <span class="tag">√âtudes</span>
            </div>
        </div>
    </section>

    <!-- CONTROLES -->
    <section class="controls-section">
        <div class="controls-content">
            <div class="filter-group">
                <label for="metier-filter">Filtrer par m√©tier</label>
                <select id="metier-filter">
                    <option value="all">Tous les m√©tiers</option>
                    <option value="etudes-generales">√âtudes g√©n√©rales</option>
                    <option value="transport-collectif">Transport collectif</option>
                    <option value="modes-actifs">Modes actifs</option>
                    <option value="vehicule-routier">V√©hicule routier</option>
                    <option value="marchandises">Marchandises</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="categorie-filter">Filtrer par cat√©gorie d'√©tude</label>
                <select id="categorie-filter">
                    <option value="all">Toutes les cat√©gories</option>
                    <option value="modelisation">Mod√©lisation</option>
                    <option value="planification">Planification</option>
                    <option value="mise-oeuvre">Mise en ≈ìuvre</option>
                    <option value="evaluation">√âvaluation</option>
                    <option value="observation">Observation</option>
                    <option value="accompagnement">Accompagnement</option>
                    <option value="recueil">Recueil de donn√©es</option>
                </select>
            </div>

            <div class="legend">
                <span class="legend-title">Intensit√© d'usage :</span>
                <div class="legend-item">
                    <div class="legend-color" style="background: #000091;"></div>
                    <span>√âlev√©e</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #6A6AF4;"></div>
                    <span>Moyenne</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #E3E3FD;"></div>
                    <span>Faible</span>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTENU PRINCIPAL -->
    <main class="main-content">
        <!-- VUE D'ENSEMBLE - VERSION INSTITUTIONNELLE SOBRE -->
        <section class="intro-institutional">
            <h2>Vue d'ensemble</h2>
            <p>
                Il existe une <span class="highlight">grande diversit√© d'√©tudes</span>, et donc de 
                cas d'usage des donn√©es de mobilit√©. Cette typologie croise les m√©tiers avec 
                <strong>7 grandes cat√©gories d'√©tudes</strong> : mod√©lisation, planification, 
                mise en ≈ìuvre, √©valuation, observation, accompagnement et recueil de donn√©es.
            </p>
            <p>
                √Ä noter √©galement que les donn√©es de mobilit√© sont utilis√©es 
                <span class="highlight">en dehors du domaine des mobilit√©s</span>, pour les 
                infrastructures de transport, mais aussi le tourisme, la sant√©, la culture, 
                le logement ou l'urbanisme.
            </p>

            <!-- Chiffres cl√©s -->
            <div class="key-numbers">
                <div class="key-number">
                    <span class="key-number-value">5</span>
                    <span class="key-number-label">M√©tiers</span>
                </div>
                <div class="key-number">
                    <span class="key-number-value">7</span>
                    <span class="key-number-label">Cat√©gories</span>
                </div>
                <div class="key-number">
                    <span class="key-number-value">35</span>
                    <span class="key-number-label">Types d'√©tudes</span>
                </div>
                <div class="key-number">
                    <span class="key-number-value">6</span>
                    <span class="key-number-label">Domaines transversaux</span>
                </div>
            </div>

            <!-- Cat√©gories en cartes sobres -->
            <div class="categories-cards">
                <div class="category-card">
                    <div class="category-card-icon">üî¨</div>
                    <div class="category-card-title">Mod√©lisation</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">üìã</div>
                    <div class="category-card-title">Planification</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">‚öôÔ∏è</div>
                    <div class="category-card-title">Mise en ≈ìuvre</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">üìä</div>
                    <div class="category-card-title">√âvaluation</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">üëÅÔ∏è</div>
                    <div class="category-card-title">Observation</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">ü§ù</div>
                    <div class="category-card-title">Accompagnement</div>
                </div>
                <div class="category-card">
                    <div class="category-card-icon">üì°</div>
                    <div class="category-card-title">Recueil</div>
                </div>
            </div>
        </section>

        <!-- TABLEAU DES TYPES D'√âTUDES -->
        <h2 class="section-title">Tableau des types d'√©tude du domaine Mobilit√©s</h2>
        
        <div class="table-container">
            <table id="typologie-table">
                <thead>
                    <tr>
                        <th>M√©tier / Cat√©gorie</th>
                        <th data-category="modelisation">Mod√©lisation</th>
                        <th data-category="planification">Planification</th>
                        <th data-category="mise-oeuvre">Mise en ≈ìuvre</th>
                        <th data-category="evaluation">√âvaluation</th>
                        <th data-category="observation">Observation</th>
                        <th data-category="accompagnement">Accompagnement</th>
                        <th data-category="recueil">Recueil</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                </tbody>
            </table>
        </div>

        <!-- USAGES TRANSVERSAUX -->
        <section class="usages-section">
            <h2 class="section-title">Usages transversaux des donn√©es de mobilit√©</h2>
            <div class="usages-intro">
                <p>
                    Les donn√©es de mobilit√© sont √©galement utilis√©es en dehors du domaine des mobilit√©s, 
                    dans de nombreux secteurs d'activit√© publique et d'am√©nagement du territoire.
                </p>
            </div>

            <div class="usages-grid">
                <div class="usage-card">
                    <div class="usage-icon">üè•</div>
                    <h3>Sant√©</h3>
                    <p>Analyse des flux pour l'acc√®s aux soins, √©pid√©miologie spatiale, planification hospitali√®re</p>
                </div>
                <div class="usage-card">
                    <div class="usage-icon">üèõÔ∏è</div>
                    <h3>Culture</h3>
                    <p>Attractivit√© des √©quipements culturels, optimisation des √©v√©nements, √©tude des parcours visiteurs</p>
                </div>
                <div class="usage-card">
                    <div class="usage-icon">üè†</div>
                    <h3>Logement</h3>
                    <p>Analyse des bassins de vie, accessibilit√© aux services, dynamiques r√©sidentielles</p>
                </div>
                <div class="usage-card">
                    <div class="usage-icon">üèóÔ∏è</div>
                    <h3>Urbanisme</h3>
                    <p>Planification urbaine, densification, mixit√© fonctionnelle, am√©nagement du territoire</p>
                </div>
                <div class="usage-card">
                    <div class="usage-icon">üèñÔ∏è</div>
                    <h3>Tourisme</h3>
                    <p>Flux touristiques, capacit√© d'accueil, saisonnalit√©, attractivit√© territoriale</p>
                </div>
                <div class="usage-card">
                    <div class="usage-icon">üöß</div>
                    <h3>Infrastructures</h3>
                    <p>Dimensionnement, maintenance pr√©dictive, analyse d'impact des travaux</p>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER INSTITUTIONNEL -->
    <footer class="footer-institutional">
        <div class="footer-content">
            <p>
                <strong>Cerema</strong> ‚Äì Centre d'√©tudes et d'expertise sur les risques, 
                l'environnement, la mobilit√© et l'am√©nagement
            </p>
            <p style="font-size: 0.85em;">√âtablissement public sous tutelle du minist√®re de la Transition √©cologique et de la Coh√©sion des territoires</p>
            
            <div class="footer-links">
                <a href="#">Mentions l√©gales</a>
                <a href="#">Accessibilit√© : partiellement conforme</a>
                <a href="#">Donn√©es personnelles</a>
                <a href="#">Contact</a>
            </div>
        </div>
    </footer>

    <!-- MODALE -->
    <div class="modal" id="detail-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h3 id="modal-title"></h3>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        // [JavaScript identique √† la version pr√©c√©dente - donn√©es et fonctions]
        const typologieData = {
            'etudes-generales': {
                name: '√âtudes g√©n√©rales',
                modelisation: {
                    level: 'high',
                    title: 'Mod√®les de trafic multimodaux',
                    examples: 'Mod√®les 4 √©tapes, mod√®les √† base d\'agents',
                    details: {
                        description: 'D√©veloppement et calibration de mod√®les de demande et d\'affectation de trafic',
                        donnees: ['Enqu√™tes d√©placements', 'Comptages routiers', 'Donn√©es billettiques', 'Donn√©es GPS'],
                        methodologies: ['Mod√®les 4 √©tapes', 'MATSim', 'Mod√®les gravitaires'],
                        exemples: ['Plan de d√©placements urbains', 'Sch√©ma directeur d\'am√©nagement']
                    }
                },
                planification: {
                    level: 'high',
                    title: 'Plans de mobilit√©',
                    examples: 'PDU, SRADDET, sch√©mas directeurs',
                    details: {
                        description: '√âlaboration de documents de planification strat√©gique',
                        donnees: ['Donn√©es socio-√©conomiques', 'Enqu√™tes mobilit√©', 'Donn√©es d\'infrastructure'],
                        methodologies: ['Diagnostic territorial', 'Sc√©narisation', '√âvaluation multicrit√®re'],
                        exemples: ['PDU m√©tropolitain', 'Sch√©ma cyclable r√©gional']
                    }
                },
                'mise-oeuvre': {
                    level: 'medium',
                    title: 'Mise en ≈ìuvre op√©rationnelle',
                    examples: 'Projets d\'infrastructure, services',
                    details: {
                        description: 'Conception et d√©ploiement de projets concrets',
                        donnees: ['Donn√©es de fr√©quentation', '√âtudes de flux', 'Enqu√™tes usagers'],
                        methodologies: ['√âtudes de faisabilit√©', 'Dimensionnement', '√âtudes d\'impact'],
                        exemples: ['Nouvelle ligne de bus', 'Am√©nagement cyclable']
                    }
                },
                evaluation: {
                    level: 'high',
                    title: '√âvaluation de politiques',
                    examples: '√âvaluation ex-ante et ex-post',
                    details: {
                        description: 'Mesure des impacts socio-√©conomiques et environnementaux',
                        donnees: ['Indicateurs de performance', 'Donn√©es avant/apr√®s', 'Enqu√™tes satisfaction'],
                        methodologies: ['Analyse co√ªts-b√©n√©fices', '√âvaluation multicrit√®re', 'Calcul √©conomique'],
                        exemples: ['Bilan LOTI', '√âvaluation ZFE']
                    }
                },
                observation: {
                    level: 'high',
                    title: 'Observatoires territoriaux',
                    examples: 'Tableaux de bord, indicateurs',
                    details: {
                        description: 'Suivi continu des pratiques et √©volutions',
                        donnees: ['S√©ries temporelles', 'Donn√©es multi-sources', 'Open data'],
                        methodologies: ['Tableaux de bord', 'Data mining', 'Analyse de tendances'],
                        exemples: ['Observatoire r√©gional mobilit√©', 'Barom√®tre des mobilit√©s']
                    }
                },
                accompagnement: {
                    level: 'medium',
                    title: 'Conseil et expertise',
                    examples: 'AMO, √©tudes de cadrage',
                    details: {
                        description: 'Support technique et m√©thodologique',
                        donnees: ['Retours d\'exp√©rience', 'Benchmarks', '√âtat de l\'art'],
                        methodologies: ['Diagnostic', 'Recommandations', 'Transfert de comp√©tences'],
                        exemples: ['AMO Plan de mobilit√©', 'Audit syst√®me v√©lo']
                    }
                },
                recueil: {
                    level: 'high',
                    title: 'Production de donn√©es',
                    examples: 'Enqu√™tes, capteurs, crowdsourcing',
                    details: {
                        description: 'Collecte et structuration de donn√©es primaires',
                        donnees: ['Enqu√™tes terrain', 'Capteurs IoT', 'Applications mobiles'],
                        methodologies: ['Protocoles d\'enqu√™te', 'D√©ploiement capteurs', 'APIs'],
                        exemples: ['Enqu√™te m√©nages d√©placements', 'R√©seau de compteurs v√©lo']
                    }
                }
            },
            'transport-collectif': {
                name: 'Transport collectif',
                modelisation: {
                    level: 'high',
                    title: 'Mod√©lisation de r√©seau TC',
                    examples: 'Dimensionnement lignes, fr√©quences',
                    details: {
                        description: 'Optimisation des r√©seaux de transport en commun',
                        donnees: ['Donn√©es billettiques', 'Donn√©es GTFS', 'Comptages'],
                        methodologies: ['Optimisation de trac√©s', 'Calcul de fr√©quences', 'Mod√®les de choix discrets'],
                        exemples: ['Restructuration r√©seau bus', 'Dimensionnement tramway']
                    }
                },
                planification: {
                    level: 'high',
                    title: 'Sch√©mas directeurs TC',
                    examples: 'Plans de r√©seau, desserte',
                    details: {
                        description: 'Planification strat√©gique des r√©seaux',
                        donnees: ['Matrices OD', 'Donn√©es d√©mographiques', 'Enqu√™tes usagers'],
                        methodologies: ['Analyse de desserte', 'Hi√©rarchisation r√©seau', 'Sc√©narios de d√©veloppement'],
                        exemples: ['Sch√©ma directeur bus', 'Plan mobilit√© p√©riurbain']
                    }
                },
                'mise-oeuvre': {
                    level: 'high',
                    title: 'Exploitation TC',
                    examples: 'Horaires, r√©gulation, information',
                    details: {
                        description: 'Gestion op√©rationnelle quotidienne',
                        donnees: ['Donn√©es temps r√©el', 'Billettique', 'SAE (Syst√®me d\'aide √† l\'exploitation)'],
                        methodologies: ['Optimisation horaires', 'R√©gulation dynamique', 'Information voyageur'],
                        exemples: ['Application temps r√©el', 'Gestion perturbations']
                    }
                },
                evaluation: {
                    level: 'high',
                    title: 'Performance r√©seau TC',
                    examples: 'Qualit√© de service, fr√©quentation',
                    details: {
                        description: 'Mesure et am√©lioration continue',
                        donnees: ['KPI exploitation', 'Enqu√™tes satisfaction', 'Donn√©es commerciales'],
                        methodologies: ['Tableaux de bord', 'Benchmarking', 'Analyse de performance'],
                        exemples: ['Bilan d\'exploitation annuel', 'Enqu√™te satisfaction']
                    }
                },
                observation: {
                    level: 'high',
                    title: 'Suivi fr√©quentation TC',
                    examples: 'Observatoires, √©volutions',
                    details: {
                        description: 'Analyse continue des usages',
                        donnees: ['Validations', 'Mont√©es-descentes', 'Taux de remplissage'],
                        methodologies: ['S√©ries temporelles', 'D√©tection d\'anomalies', 'Pr√©vision demande'],
                        exemples: ['Observatoire ligne par ligne', 'Pr√©vision saisonnalit√©']
                    }
                },
                accompagnement: {
                    level: 'medium',
                    title: 'AMO transports collectifs',
                    examples: 'DSP, contrats, tarification',
                    details: {
                        description: 'Support d√©cisionnel et contractuel',
                        donnees: ['Donn√©es contractuelles', 'Co√ªts d\'exploitation', 'Recettes'],
                        methodologies: ['Analyse √©conomique', 'Aide √† la d√©cision', '√âtudes tarifaires'],
                        exemples: ['Pr√©paration DSP', 'Refonte tarifaire']
                    }
                },
                recueil: {
                    level: 'medium',
                    title: 'Comptages TC',
                    examples: 'Enqu√™tes mont√©es-descentes',
                    details: {
                        description: 'Collecte de donn√©es de charge',
                        donnees: ['Comptages manuels', 'Capteurs automatiques', 'Pes√©es'],
                        methodologies: ['Protocoles comptage', 'Extrapolation', 'Validation donn√©es'],
                        exemples: ['Campagne annuelle comptages', 'Enqu√™te charge ligne']
                    }
                }
            },
            'modes-actifs': {
                name: 'Modes actifs (v√©lo, marche)',
                modelisation: {
                    level: 'medium',
                    title: 'Mod√®les de demande v√©lo',
                    examples: 'Potentiel cyclable, itin√©raires',
                    details: {
                        description: 'Estimation du potentiel et des flux v√©lo/marche',
                        donnees: ['Donn√©es GPS v√©lo', 'Comptages', 'Enqu√™tes pratiques'],
                        methodologies: ['Calcul potentiel cyclable', 'Mod√®les de choix d\'itin√©raire', 'Accessibilit√© pi√©tonne'],
                        exemples: ['Carte potentiel v√©lo', 'Cheminements pi√©tons']
                    }
                },
                planification: {
                    level: 'high',
                    title: 'Sch√©mas cyclables',
                    examples: 'Plans v√©lo, itin√©raires pi√©tons',
                    details: {
                        description: 'Planification des infrastructures modes actifs',
                        donnees: ['R√©seau existant', 'G√©n√©rateurs de flux', 'Diagnostics terrain'],
                        methodologies: ['Priorisation axes', 'Continuit√©s cyclables', 'Hi√©rarchisation'],
                        exemples: ['Plan v√©lo communal', 'Sch√©ma directeur modes actifs']
                    }
                },
                'mise-oeuvre': {
                    level: 'high',
                    title: 'Am√©nagements cyclables',
                    examples: 'Pistes cyclables, jalonnement',
                    details: {
                        description: 'Conception et r√©alisation d\'infrastructures',
                        donnees: ['Plans de circulation', '√âtudes de trafic', 'Contraintes techniques'],
                        methodologies: ['Dimensionnement pistes', 'Am√©nagement carrefours', 'Signal√©tique'],
                        exemples: ['Voie verte', 'Piste cyclable bidirectionnelle']
                    }
                },
                evaluation: {
                    level: 'medium',
                    title: 'Impact am√©nagements',
                    examples: 'Fr√©quentation avant/apr√®s',
                    details: {
                        description: 'Mesure de l\'effet des am√©nagements',
                        donnees: ['Comptages avant/apr√®s', 'Enqu√™tes usagers', 'Accidentologie'],
                        methodologies: ['Analyse avant/apr√®s', 'Co√ªts-b√©n√©fices', 'Reporting'],
                        exemples: ['√âvaluation coronapiste', 'Bilan s√©curit√© carrefour']
                    }
                },
                observation: {
                    level: 'high',
                    title: 'Comptages modes actifs',
                    examples: 'Observatoires v√©lo/pi√©tons',
                    details: {
                        description: 'Suivi continu des pratiques',
                        donnees: ['R√©seau de compteurs', 'Applications traces GPS', 'Enqu√™tes barom√®tre'],
                        methodologies: ['Analyse temporelle', 'Cartographie flux', 'Indicateurs'],
                        exemples: ['Barom√®tre v√©lo', 'Observatoire pi√©tons centre-ville']
                    }
                },
                accompagnement: {
                    level: 'high',
                    title: 'Promotion modes actifs',
                    examples: 'Plans de mobilit√©, communication',
                    details: {
                        description: 'Incitation au changement de pratiques',
                        donnees: ['Enqu√™tes comportements', 'Retours exp√©rimentations', 'Best practices'],
                        methodologies: ['Plans de mobilit√©', 'Nudge', 'Gamification'],
                        exemples: ['Challenge mobilit√©', 'V√©lo-√©cole entreprise']
                    }
                },
                recueil: {
                    level: 'high',
                    title: 'Donn√©es traces v√©lo',
                    examples: 'GPS, compteurs, applications',
                    details: {
                        description: 'Collecte donn√©es spatiotemporelles',
                        donnees: ['Traces GPS v√©lo', 'Eco-compteurs', 'API Geovelo/Strava'],
                        methodologies: ['Traitement traces', 'Map-matching', 'Agr√©gation flux'],
                        exemples: ['Partenariat Geovelo', 'R√©seau de 50 compteurs']
                    }
                }
            },
            'vehicule-routier': {
                name: 'V√©hicule routier',
                modelisation: {
                    level: 'high',
                    title: 'Mod√®les de trafic routier',
                    examples: 'Affectation trafic, microsimulation',
                    details: {
                        description: 'Simulation des flux automobiles',
                        donnees: ['Matrices OD', 'Comptages routiers', 'Donn√©es FCD'],
                        methodologies: ['Affectation trafic', 'Microsimulation (Aimsun, Vissim)', 'Mod√®les dynamiques'],
                        exemples: ['√âtude giratoire', 'Simulation autoroute']
                    }
                },
                planification: {
                    level: 'medium',
                    title: 'Hi√©rarchisation voirie',
                    examples: 'Sch√©mas directeurs routiers',
                    details: {
                        description: 'Organisation du r√©seau routier',
                        donnees: ['Hi√©rarchie voirie', 'G√©n√©rateurs trafic', 'Plans de circulation'],
                        methodologies: ['Classification fonctionnelle', 'Optimisation r√©seau', 'Sc√©narisation'],
                        exemples: ['Plan de circulation', 'Contournement urbain']
                    }
                },
                'mise-oeuvre': {
                    level: 'high',
                    title: 'Gestion trafic',
                    examples: 'R√©gulation, feux, ITS',
                    details: {
                        description: 'Exploitation et optimisation du r√©seau',
                        donnees: ['Boucles de d√©tection', 'Cam√©ras', 'FCD temps r√©el'],
                        methodologies: ['R√©gulation feux', 'Gestion incidents', 'Information usagers'],
                        exemples: ['PC de r√©gulation trafic', 'Application info trafic']
                    }
                },
                evaluation: {
                    level: 'medium',
                    title: 'Performance r√©seau',
                    examples: 'Congestion, temps de parcours',
                    details: {
                        description: 'Analyse de la qualit√© de circulation',
                        donnees: ['FCD', 'Temps de parcours', 'Niveaux de service'],
                        methodologies: ['Indicateurs congestion', 'Cartographie vitesses', 'Benchmarking'],
                        exemples: ['Rapport annuel trafic', 'Identification points noirs']
                    }
                },
                observation: {
                    level: 'high',
                    title: 'Comptages routiers',
                    examples: 'Observatoires trafic',
                    details: {
                        description: 'Suivi permanent des flux',
                        donnees: ['Stations permanentes', 'Campagnes temporaires', 'FCD agr√©g√©es'],
                        methodologies: ['Analyse temporelle', 'D√©tection tendances', 'Pr√©vision'],
                        exemples: ['Observatoire d√©partemental', 'Bilan trafic annuel']
                    }
                },
                accompagnement: {
                    level: 'low',
                    title: '√âtudes circulation',
                    examples: 'Expertises voirie',
                    details: {
                        description: 'Support technique circulation',
                        donnees: ['Diagnostics terrain', 'Comptages ponctuels', 'Accidentologie'],
                        methodologies: ['Audit s√©curit√©', '√âtudes carrefours', 'Capacit√© voirie'],
                        exemples: ['Expertise carrefour dangereux', 'AMO projet routier']
                    }
                },
                recueil: {
                    level: 'medium',
                    title: 'Collecte donn√©es trafic',
                    examples: 'Comptages, FCD, radar',
                    details: {
                        description: 'Acquisition donn√©es circulation',
                        donnees: ['Tubes compteurs', 'FCD op√©rateurs', 'Vid√©o-d√©tection'],
                        methodologies: ['Protocoles comptage', 'Traitement FCD', 'Validation qualit√©'],
                        exemples: ['Campagne annuelle comptages', 'Partenariat Here/TomTom']
                    }
                }
            },
            'marchandises': {
                name: 'Transport de marchandises',
                modelisation: {
                    level: 'medium',
                    title: 'Mod√®les fret',
                    examples: 'Flux logistiques, dernier km',
                    details: {
                        description: 'Mod√©lisation des cha√Ænes logistiques',
                        donnees: ['Enqu√™tes transport marchandises', 'Donn√©es logistiques', 'Flux routiers PL'],
                        methodologies: ['Mod√®les g√©n√©ration-distribution', 'Optimisation tourn√©es', 'Cha√Ænes logistiques'],
                        exemples: ['Mod√®le fret urbain', 'Optimisation livraisons']
                    }
                },
                planification: {
                    level: 'medium',
                    title: 'Logistique urbaine',
                    examples: 'Sch√©mas marchandises en ville',
                    details: {
                        description: 'Planification de la logistique urbaine',
                        donnees: ['Aires de livraison', 'Flux PL', 'Enqu√™tes √©tablissements'],
                        methodologies: ['Diagnostic logistique', 'Zonage livraisons', 'Plans d\'action'],
                        exemples: ['Charte logistique', 'Espaces de consolidation']
                    }
                },
                'mise-oeuvre': {
                    level: 'medium',
                    title: 'Solutions logistiques',
                    examples: 'ELU, consignes, r√©gulation',
                    details: {
                        description: 'D√©ploiement d\'√©quipements et services',
                        donnees: ['Besoins √©tablissements', 'Trafic PL', 'Foncier disponible'],
                        methodologies: ['Faisabilit√© ELU', 'Dimensionnement', 'Mod√®le √©conomique'],
                        exemples: ['Espace logistique urbain', 'R√©seau de consignes']
                    }
                },
                evaluation: {
                    level: 'low',
                    title: 'Impact marchandises',
                    examples: '√âmissions, congestion PL',
                    details: {
                        description: '√âvaluation des impacts du fret',
                        donnees: ['Flux PL', '√âmissions', 'Enqu√™tes livreurs'],
                        methodologies: ['Bilan carbone', 'Analyse nuisances', 'Co√ªts externes'],
                        exemples: ['Bilan environnemental', '√âtude ZFE marchandises']
                    }
                },
                observation: {
                    level: 'medium',
                    title: 'Suivi trafic PL',
                    examples: 'Comptages poids-lourds',
                    details: {
                        description: 'Observation des flux de marchandises',
                        donnees: ['Comptages PL', 'FCD flottes', 'P√©ages'],
                        methodologies: ['Distinction VL/PL', 'Analyse temporelle', 'Cartographie flux'],
                        exemples: ['Observatoire fret r√©gional', 'Suivi transit PL']
                    }
                },
                accompagnement: {
                    level: 'medium',
                    title: 'Conseil logistique',
                    examples: 'Plans marchandises entreprises',
                    details: {
                        description: 'Accompagnement acteurs logistiques',
                        donnees: ['Benchmarks', 'Retours d\'exp√©rience', 'R√©glementations'],
                        methodologies: ['Diagnostics cha√Ænes logistiques', 'Plans d\'action', 'Formation'],
                        exemples: ['Plan mobilit√© marchandises', 'Accompagnement e-commerce']
                    }
                },
                recueil: {
                    level: 'low',
                    title: 'Enqu√™tes marchandises',
                    examples: 'Enqu√™tes √©tablissements, TMV',
                    details: {
                        description: 'Collecte donn√©es sp√©cifiques fret',
                        donnees: ['Enqu√™tes livraisons', 'Tracking flottes', 'Entretiens acteurs'],
                        methodologies: ['Protocoles TMV', 'Enqu√™tes qualitatives', 'Exploitation donn√©es priv√©es'],
                        exemples: ['Enqu√™te transport marchandises en ville', 'Enqu√™te besoins logistiques']
                    }
                }
            }
        };

        function generateTable() {
            const tbody = document.getElementById('table-body');
            tbody.innerHTML = '';

            for (const [metierKey, metierData] of Object.entries(typologieData)) {
                const row = document.createElement('tr');
                row.dataset.metier = metierKey;

                const metierCell = document.createElement('td');
                metierCell.textContent = metierData.name;
                row.appendChild(metierCell);

                const categories = ['modelisation', 'planification', 'mise-oeuvre', 'evaluation', 'observation', 'accompagnement', 'recueil'];
                categories.forEach(cat => {
                    const td = document.createElement('td');
                    const cellData = metierData[cat];
                    
                    if (cellData) {
                        const cellDiv = document.createElement('div');
                        cellDiv.className = `cell level-${cellData.level}`;
                        cellDiv.dataset.category = cat;
                        cellDiv.dataset.metier = metierKey;
                        
                        cellDiv.innerHTML = `
                            <div class="cell-title">${cellData.title}</div>
                            <div class="cell-examples">${cellData.examples}</div>
                        `;
                        
                        cellDiv.onclick = () => showDetails(metierData.name, cat, cellData);
                        td.appendChild(cellDiv);
                    }
                    
                    row.appendChild(td);
                });

                tbody.appendChild(row);
            }
        }

        function showDetails(metier, categorie, data) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');

            const categorieNames = {
                'modelisation': 'Mod√©lisation',
                'planification': 'Planification',
                'mise-oeuvre': 'Mise en ≈ìuvre',
                'evaluation': '√âvaluation',
                'observation': 'Observation',
                'accompagnement': 'Accompagnement',
                'recueil': 'Recueil de donn√©es'
            };

            title.textContent = `${metier} ‚Äì ${categorieNames[categorie]}`;

            let detailsHTML = `<p style="color: #666; margin-bottom: 20px; font-size: 1.05em;"><strong>${data.title}</strong></p>`;

            if (data.details) {
                detailsHTML += `
                    <div class="modal-section">
                        <h4>Description</h4>
                        <p>${data.details.description}</p>
                    </div>
                    
                    <div class="modal-section">
                        <h4>Donn√©es utilis√©es</h4>
                        <ul>
                            ${data.details.donnees.map(d => `<li>${d}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="modal-section">
                        <h4>M√©thodologies</h4>
                        <ul>
                            ${data.details.methodologies.map(m => `<li>${m}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="modal-section">
                        <h4>Exemples concrets</h4>
                        <ul>
                            ${data.details.exemples.map(e => `<li>${e}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            body.innerHTML = detailsHTML;
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('detail-modal').classList.remove('active');
        }

        document.getElementById('metier-filter').addEventListener('change', function() {
            const selectedMetier = this.value;
            const rows = document.querySelectorAll('#table-body tr');

            rows.forEach(row => {
                if (selectedMetier === 'all' || row.dataset.metier === selectedMetier) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        document.getElementById('categorie-filter').addEventListener('change', function() {
            const selectedCategorie = this.value;
            const cells = document.querySelectorAll('.cell');
            const headers = document.querySelectorAll('th[data-category]');

            if (selectedCategorie === 'all') {
                cells.forEach(cell => cell.style.display = '');
                headers.forEach(header => header.style.display = '');
            } else {
                cells.forEach(cell => {
                    if (cell.dataset.category === selectedCategorie) {
                        cell.style.display = '';
                    } else {
                        cell.style.display = 'none';
                    }
                });
                
                headers.forEach(header => {
                    if (header.dataset.category === selectedCategorie) {
                        header.style.display = '';
                    } else {
                        header.style.display = 'none';
                    }
                });
            }
        });

        document.getElementById('detail-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        generateTable();
    </script>
</body>
</html>
